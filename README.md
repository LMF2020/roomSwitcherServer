# Rooms switcher

#### ğŸ¥³ 1.0 åè®®è®¾è®¡

https://www.showdoc.com.cn/roomswitcher/11176109908791492

#### 1.1 è·å–è®¾å¤‡åºåˆ—å·

ä¸€. åŠ å¯†è®¾è®¡
åŠ å¯†æ ¼å¼ï¼šBase64(AES[åºåˆ—å·,,30,,start_timestamp])
åŠ å¯† keyï¼ˆAESï¼‰: 2024rmswitcher

äºŒ. æŠ€æœ¯å®ç°ï¼švue3 + electron + socketIO // è¾…åŠ©å·¥å…· tailwind + vuex/vue-router

1.  éœ€è¦ä¸¤ä¸ªç•Œé¢
    1.1. æˆæƒé¡µé¢ï¼šæˆæƒæˆåŠŸåï¼Œæ‰ä¼šå¼€å¯ç«¯å£ç›‘å¬
    1.2. æœåŠ¡å™¨çŠ¶æ€é¡µé¢ï¼š å®¢æˆ·ç«¯è¿æ¥åä¼šæ›´æ–°å®¢æˆ·ç«¯å·²è¿æ¥å’Œæ˜¾ç¤ºå®¢æˆ·ç«¯çš„ IP
2.  åˆ›å»º socket æœåŠ¡å®ä¾‹ï¼šä¸»è¿›ç¨‹å¯åŠ¨æ—¶ï¼Œåˆ›å»º socket å®ä¾‹
    2.1 ä¸»è¿›ç¨‹å‘é€ IPC message ç»™æ¸²æŸ“è¿›ç¨‹ï¼Œå±•ç¤ºç»™æˆæƒé¡µé¢
3.  æˆæƒï¼šä¸»è¿›ç¨‹å¯åŠ¨æ—¶ï¼ŒåŠ è½½æˆæƒé¡µé¢
    3.1 ä¸»è¿›ç¨‹è·å–è®¾å¤‡åºåˆ—å· - IPC é€šçŸ¥ - æ¸²æŸ“è¿›ç¨‹ï¼ˆæ˜¾ç¤ºè®¾å¤‡åºåˆ—å·ï¼‰
    3.2 ç”¨æˆ·ç‚¹å‡»æˆæƒï¼Œæ¸²æŸ“è¿›ç¨‹ - IPC é€šçŸ¥ - ä¸»è¿›ç¨‹éªŒè¯æˆæƒï¼ˆC++ node wrapper å®ç°ï¼‰
    3.3 ä¸»è¿›ç¨‹éªŒè¯æˆæƒæˆåŠŸ -
    3.3.1 ä¸»è¿›ç¨‹å¼€å¯ 3001 ç«¯å£å¼€å§‹ç›‘å¬å®¢æˆ·ç«¯è¿æ¥
    3.3.2 IPC é€šçŸ¥ï¼ˆæºå¸¦æˆæƒä¿¡æ¯ï¼‰ - æ¸²æŸ“è¿›ç¨‹
    3.3.1 æ¸²æŸ“è¿›ç¨‹ - åˆ‡æ¢è·¯ç”± - æœåŠ¡å™¨çŠ¶æ€é¡µï¼ˆ- å±•ç¤ºæˆæƒä¿¡æ¯ï¼ŒæœåŠ¡å™¨ç›‘å¬çš„ç«¯å£ä¿¡æ¯ï¼Œå®¢æˆ·ç«¯è¿æ¥ä¿¡æ¯ï¼ˆ-- åç»­å®¢æˆ·ç«¯è¿æ¥æ‰å±•ç¤º --- ï¼‰ï¼‰
4.  å®¢æˆ·ç«¯è¿æ¥å¤„ç†ï¼š
    4.1 æ”¶åˆ°å®¢æˆ·ç«¯è¿æ¥åï¼Œè®°å½• socket idï¼Œå®¢æˆ·ç«¯ IP -- IPC é€šçŸ¥ -- æ¸²æŸ“è¿›ç¨‹ ï¼ˆå¦‚ä¸Š 3.3.1 çš„çŠ¶æ€é¡µé¢å±•ç¤ºå®¢æˆ·ç«¯è¿æ¥ä¿¡æ¯ï¼‰
    4.2 å®¢æˆ·ç«¯å‘é€è¯·æ±‚æŠ¥æ–‡ -- ä¸»è¿›ç¨‹ç›´æ¥å¤„ç†æŒ‡ä»¤ ï¼ˆåè®®å¦‚ä¸‹ï¼‰
    4.3 åè®®è§„èŒƒ:
    // æ§åˆ¶å™¨ -> PC: åˆ‡æ¢å‘½ä»¤ -> æ‰§è¡Œåˆ‡æ¢åŠ¨ä½œ
    å‘é€å‘½ä»¤ï¼šcmd_fs: åˆ‡æ¢åˆ° é£ä¹¦
    å‘é€å‘½ä»¤ï¼šcmd_tx: åˆ‡æ¢åˆ° è…¾è®¯

    // æ§åˆ¶å™¨ -> PC: æŸ¥è¯¢å½“å‰è¿›ç¨‹
    å‘é€å‘½ä»¤ï¼šqry_current_rooms
    è¿”å›æŠ¥æ–‡: {"rooms":"name"} --- ã€Œname: fs,txï¼Œnone

    4.3 è¿›ç¨‹åˆ‡æ¢:
    4.3.1. open "åè®®://"

/é—®é¢˜ï¼š1.å¦‚ä½•å®ç°å½“å‰ä¼šè®®å®¤è¿›ç¨‹çš„ä¿å­˜ï¼Ÿ 2.åˆ‡æ¢è¿›ç¨‹æ˜¯å¦è¦ kill æ‰å½“å‰è¿›ç¨‹ï¼Ÿä¸ kill æœ‰é—®é¢˜ï¼Œkill å‰éœ€è¦æ˜ç¡®çŸ¥é“è¿è¡Œè¿›ç¨‹å’ŒæŒ‡ä»¤è¿›ç¨‹æ˜¯å¦æ˜¯åŒä¸€ä¸ª

---

æˆæƒåˆ°æœŸ: 2024-06-30
æœåŠ¡å™¨å·²è¿æ¥: 127.0.0.1:3001

    -> å®¢æˆ·ç«¯ 192.168.01.1 å·²è¿æ¥/å·²æ–­å¼€
    -> å®¢æˆ·ç«¯ 192.168.01.2 å·²è¿æ¥/å·²æ–­å¼€

jed@JeddeMacBook-Pro roomSwitcherServer % ps -ef|grep zoom  
 0 65566 1 0 12:34 ä¸Šåˆ ?? 0:00.21 /Library/PrivilegedHelperTools/us.zoom.ZoomRoomsDaemon
501 65726 1 0 12:34 ä¸Šåˆ ?? 0:00.02 /Applications/ZoomPresence.app/Contents/Library/LaunchServices/us.zoom.ZoomRoomsXpcServer
501 65813 60364 0 12:37 ä¸Šåˆ ttys001 0:00.00 grep zoom
jed@JeddeMacBook-Pro roomSwitcherServer %

å¾…è§£å†³é—®é¢˜ï¼š

1. ç¨‹åºå›¾æ ‡
2. ç¨‹åºæ‰“åŒ…
3. æ€æ‰è¿›ç¨‹
4. æˆæƒåŠ å¯†
